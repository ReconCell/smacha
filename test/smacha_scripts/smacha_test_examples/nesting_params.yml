--- # SMACHA Nesting Parameter Passing Test
name: sm_top
template: Base
manifest: smacha
node_name: smacha_nesting_params_test
outcomes: [final_outcome]
states:
  # This container state defines some parameter variables (name_0 and name_1)
  # that persist to child states.
  - SUB:
      template: StateMachine
      params: {name_0: FOO_0, name_1: FOO_1}
      outcomes: [outcome3]
      transitions: {outcome3: final_outcome}
      states:
        # These child states are able to make use of the parameters that persist
        # from the parent container, while also defining their own (outcome).
        - FOO_0: {template: ParamFoo, params: {outcome: outcome1},
                  name_param: [params, name_0], outcome_param: [params, outcome],
                  transitions: {outcome1: FOO_1, outcome2: outcome3}}
        # Parameters should only persist from parent to child state,
        # not from sibling state to sibling state.
        - FOO_1: {template: ParamFoo, params: {outcome: outcome2},
                  name_param: [params, name_1], outcome_param: [params, outcome],
                  transitions: {outcome1: FOO_1, outcome2: outcome3}}
