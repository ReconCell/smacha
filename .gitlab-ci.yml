test:
  script:
  - apt-get update -qy
  - apt-get install -y python-dev python-pip
  - pip install virtualenv
  - "# Test with python 2"
  - virtualenv --system-site-packages --python=/usr/bin/python2 venv2
  # NOTE: Installing these packages by hand is a
  # temporary solution.
  # TODO: Try setting up a runner with a ROS image.
  - venv2/bin/pip install nose
  - venv2/bin/pip install pyyaml
  - venv2/bin/pip install jinja2
  - venv2/bin/nosetests test/executive_smach_tutorials.py
  - "# Test with python 3"
  - virtualenv --system-site-packages --python=/usr/bin/python3 venv3
  # NOTE: Installing these packages by hand is a
  # temporary solution.
  # TODO: Try setting up a runner with a ROS image.
  - venv3/bin/pip install nose
  - venv3/bin/pip install pyyaml
  - venv3/bin/pip install jinja2
  - venv3/bin/nosetests test/executive_smach_tutorials.py
